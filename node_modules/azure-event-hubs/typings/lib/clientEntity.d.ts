/// <reference types="node" />
import { ConnectionContext } from "./connectionContext";
export interface ClientEntityOptions {
    /**
     * @property {string} [name] The unique name for the entity. If not provided then a guid will be
     * assigned.
     */
    name?: string;
    /**
     * @property {string | number} [partitionId] The partitionId associated with the client entity.
     */
    partitionId?: string | number;
    /**
     * @property {string} address The client entity address in one of the following forms:
     */
    address?: string;
    /**
     * @property {string} audience The client entity token audience in one of the following forms:
     */
    audience?: string;
}
/**
 * Describes the base class for entities like EventHub Sender, Receiver and Management client.
 * @class ClientEntity
 */
export declare class ClientEntity {
    /**
     * @property {string} [name] The unique name for the entity (mostly a guid).
     */
    name: string;
    /**
     * @property {string} address The client entity address in one of the following forms:
     *
     * **Sender**
     * - `"<hubName>"`
     * - `"<hubName>/Partitions/<partitionId>"`.
     *
     * **Receiver**
     * - `"<event-hub-name>/ConsumerGroups/<consumer-group-name>/Partitions/<partition-id>"`.
     *
     * **ManagementClient**
     * -`"$management"`.
     */
    address: string;
    /**
     * @property {string} audience The client entity token audience in one of the following forms:
     *
     * **Sender**
     * - `"sb://<yournamespace>.servicebus.windows.net/<hubName>"`
     * - `"sb://<yournamespace>.servicebus.windows.net/<hubName>/Partitions/<partitionId>"`.
     *
     * **Receiver**
     * - `"sb://<your-namespace>.servicebus.windows.net/<event-hub-name>/ConsumerGroups/<consumer-group-name>/Partitions/<partition-id>"`.
     *
     * **ManagementClient**
     * - `"sb://<your-namespace>.servicebus.windows.net/<event-hub-name>/$management"`.
     */
    audience: string;
    /**
     * @property {string | number} [partitionId] The partitionId associated with the client entity.
     */
    partitionId?: string | number;
    /**
     * @property {boolean} wasCloseCalled Indicates whether the close() method was called on itself
     * in a given context.
     */
    wasCloseCalled: boolean;
    /**
     * @property {ConnectionContext} _context Provides relevant information about the amqp connection,
     * cbs and $management sessions, token provider, sender and receivers.
     * @protected
     */
    protected _context: ConnectionContext;
    /**
     * @property {NodeJS.Timer} _tokenRenewalTimer The token renewal timer that keeps track of when
     * the Client Entity is due for token renewal.
     * @protected
     */
    protected _tokenRenewalTimer?: NodeJS.Timer;
    /**
     * Creates a new ClientEntity instance.
     * @constructor
     * @param {ConnectionContext} context The connection context.
     * @param {ClientEntityOptions} [options] Options that can be provided while creating the ClientEntity.
     */
    constructor(context: ConnectionContext, options?: ClientEntityOptions);
    /**
     * Provides the current type of the ClientEntity.
     * @return {string} The entity type.
     */
    readonly type: string;
    /**
     * Negotiates the cbs claim for the ClientEntity.
     * @protected
     * @param {boolean} [setTokenRenewal] Set the token renewal timer. Default false.
     * @return {Promise<void>} Promise<void>
     */
    protected _negotiateClaim(setTokenRenewal?: boolean): Promise<void>;
    /**
     * Ensures that the token is renewed within the predefined renewal margin.
     * @protected
     * @returns {void}
     */
    protected _ensureTokenRenewal(): Promise<void>;
}
