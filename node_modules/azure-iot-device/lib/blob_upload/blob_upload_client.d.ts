import { Stream } from 'stream';
import { AuthenticationProvider, ErrorCallback, TripleValueCallback, Callback } from 'azure-iot-common';
import { BlobUploadResult } from './blob_upload_result';
import { BlobResponse } from './blob_uploader';
/**
 * @private
 */
export interface UploadParams {
    hostName?: string;
    containerName?: string;
    blobName?: string;
    sasToken?: string;
    correlationId: string;
}
/**
 * @private
 */
export interface FileUpload {
    setOptions(options: any): void;
    getBlobSharedAccessSignature(blobName: string, done: Callback<UploadParams>): void;
    getBlobSharedAccessSignature(blobName: string): Promise<UploadParams>;
    notifyUploadComplete(correlationId: string, uploadResult: BlobUploadResult, done: (err?: Error) => void): void;
    notifyUploadComplete(correlationId: string, uploadResult: BlobUploadResult): Promise<void>;
}
/**
 * @private
 */
export interface BlobUploader {
    uploadToBlob(uploadParams: UploadParams, stream: Stream, streamLength: number, done: TripleValueCallback<any, BlobResponse>): void;
    uploadToBlob(uploadParams: UploadParams, stream: Stream, streamLength: number): Promise<any>;
}
/**
 * @private
 */
export interface BlobUpload {
    setOptions(options: any): void;
    uploadToBlob(blobName: string, stream: Stream, streamLength: number, done: (err?: Error) => void): void;
    uploadToBlob(blobName: string, stream: Stream, streamLength: number): Promise<void>;
}
/**
 * @private
 */
export declare class BlobUploadClient implements BlobUpload {
    private _authenticationProvider;
    private _fileUploadApi;
    private _blobUploader;
    constructor(authenticationProvider: AuthenticationProvider, fileUploadApi?: FileUpload, blobUploader?: BlobUploader);
    setOptions(options: any): void;
    uploadToBlob(blobName: string, stream: Stream, streamLength: number, done: ErrorCallback): void;
    uploadToBlob(blobName: string, stream: Stream, streamLength: number): Promise<void>;
}
